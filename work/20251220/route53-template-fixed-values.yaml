AWSTemplateFormatVersion: '2010-09-09'
Description: 'Route53 Hosted Zone and Record Sets (Fixed Values Version)'

# Parameters セクションを削除または最小化
Parameters:
  DomainName:
    Type: String
    Description: 'Domain name for the hosted zone'
    Default: 'example.com'

Resources:
  HostedZone:
    Type: AWS::Route53::HostedZone
    Properties:
      Name: !Ref DomainName
      HostedZoneConfig:
        Comment: !Sub 'Hosted zone for ${DomainName}'
      HostedZoneTags:
        - Key: Name
          Value: !Ref DomainName
        - Key: ManagedBy
          Value: CloudFormation

  # 固定値を直接指定
  RootARecord:
    Type: AWS::Route53::RecordSet
    Properties:
      HostedZoneId: !Ref HostedZone
      Name: !Ref DomainName
      Type: A
      TTL: '300'
      ResourceRecords:
        - '203.0.113.10'  # 固定値

  WWWARecord:
    Type: AWS::Route53::RecordSet
    Properties:
      HostedZoneId: !Ref HostedZone
      Name: !Sub 'www.${DomainName}'
      Type: A
      TTL: '300'
      ResourceRecords:
        - '203.0.113.10'  # 固定値

  MailMXRecord:
    Type: AWS::Route53::RecordSet
    Properties:
      HostedZoneId: !Ref HostedZone
      Name: !Ref DomainName
      Type: MX
      TTL: '3600'
      ResourceRecords:
        - '10 mail.example.com'  # 固定値（優先度とホスト名）

Outputs:
  HostedZoneId:
    Value: !Ref HostedZone
  NameServers:
    Value: !Join [', ', !GetAtt HostedZone.NameServers]
